

# –¢–µ–∫—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

![img](LightPerspectiveResults.gif)

## –Ø —Å–¥–µ–ª–∞–ª —Ç—Ä–µ—Ö–º–µ—Ä–Ω–æ–µ –ª–∏–Ω–µ–π–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª –º–∞—Ä—à–∏—Ä—É—é—â–∏–µ –∫—É–±—ã –∏ –ø—Ä–æ—Ü–µ—Å—Å —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏–∏ –¥–ª—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –º–µ—Ç–∞–±–æ–ª–æ–≤. –ó–∞—Ç–µ–º —è –¥–æ–±–∞–≤–∏–ª –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É –∏ –æ—Ü–µ–Ω–∏–ª –Ω–æ—Ä–º–∞–ª–∏ —á–µ—Ä–µ–∑ fragment shader dfdx dfdy.


### –ù–∏–∂–µ - —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–∞–ø–∏—Å–∫–∏ –ø–æ —Ö–æ–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏


# Notes
- –ü–æ—á–µ–º—É –Ω–∞–º –Ω—É–∂–µ–Ω —à—É–º –ü–µ—Ä–ª–∏–Ω–∞? –°–æ–≤—Å–µ–º —Å–ª—É—á–∞–π–Ω—ã–π —à—É–º –Ω–µ –¥–∞—Å—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é —Å–≤—è–∑–Ω—É—é —Ñ–∏–≥—É—Ä—É, –µ—Å–ª–∏ –¥–∞—Ç—å –≤—Å–µ–º –≤–µ—Ä—à–∏–Ω–∞–º –∫—É–±–∞ —Å–æ–≤—Å–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ —á–∏—Å–ª–∞ –∏ –º–µ–Ω—è—Ç—å –∏—Ö —Å–ª—É—á–∞–π–Ω–æ, —Ç–æ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç –º–µ–Ω—è—Ç—å—Å—è —Å–∫–∞—á–∫–∞–º–∏/–¥–∏—Å–∫—Ä–µ—Ç–Ω–æ. –ò–¥–µ—è –∂–µ —à—É–º–∞ –ü–µ—Ä–ª–∏–Ω–∞ - –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–∫ –ø—Ä–∏–º–µ—Ä—É –≤ –ø—Ä–æ—Å—Ç–æ–º —Å–ª—É—á–∞–µ - –Ω–∞ –ø—Ä—è–º–æ–π) –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ t-1 –∏ t, —á—Ç–æ–±—ã —Å–ª—É—á–∞–π–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–ª–∞–≤–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–ª–∏ –≤ –Ω–æ–≤—ã–µ - –≤ —Å–ª—É—á–∞–µ —Å –ø—Ä—è–º–æ–π –º—ã –ø–æ–ª—É—á–∏–º –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é –≤–æ–ª–Ω—É. 
- Perlin Noise:

The noise function requires a little more changes. But first, let's recap what we did to calculate noise at point p in the 1D case:

* We determined the integers p0 and p1 surrounding the point p
* For both p0 and p1, we calculated the product between the gradient at that point, and the difference between p and that point.
* Finally, we did an interpolation between the values calculated in the previous step
  
When you extend this to two dimensions, you get:
* Determine the four integer points on the plane p0, p1, p2 and p3 surrounding the point p ("lattice points")
* For each of those four lattice points, calculate the dot product between the gradient at the lattice point and the direction from the lattice point to the point p
* Do something similar to bilinear interpolation: interpolate between the dot products corresponding to the top two lattice points, then interpolate between the dot products corresponding to the two bottom lattice points. Finally, interpolate between the results of the previous two interpolations.

- So, overall, the idea is pretty much the same as in the 1D case, it's just that scalar values have become 2D vectors!


- –Ø —Ö–æ—á—É –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –Ω–æ –ø—Ä–∏—è—Ç–Ω–æ –≤—ã–≥–ª—è–¥—è—â—É—é —Å–≤—è–∑–Ω—É—é –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å. 
–ö–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å? –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å perlin noise —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç—Ç—É –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –µ–µ —Å —Ç–µ—á–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏. 
–ù–æ –∫–∞–∫ —Å–≤—è–∑–∞—Ç—å marching cubes –∏ —Å–∞–º —à—É–º? –ö–∞–∫ –Ω–∞ —à—É–º–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –º–∞—Ä—à–∏—Ä—É—é—â–∏—Ö –∫—É–±–æ–≤? 
–†–∞–Ω—å—à–µ —è –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏ (—Å —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏) —Å—á–∏—Ç–∞–ª –∑–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ metaball –∏ –ø—Ä–æ–≤–µ—Ä—è–ª –≤—ã—à–µ –ª–∏ –æ–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞. –¢–µ–ø–µ—Ä—å —É –º–µ–Ω—è –≤—Å–µ –µ—â–µ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø –∫ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º —Ç–æ—á–∫–∞–º –º–æ–µ–≥–æ –ª–∏–Ω–µ–π–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∞ –µ—Å–ª–∏ —Ç–∞–∫–∏–µ —Ç–æ—á–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ —Ñ—É–Ω–∫—Ü–∏—é —à—É–º–∞ —Ç–æ —à—É–º –±—É–¥–µ—Ç –Ω–µ –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤—ã–º. 
–ú–æ–∂–Ω–æ —É–º–Ω–æ–∂–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞ –∫–∞–∫—É—é —Ç–æ 0 < x < 1 –∏ –ø–æ–ª—É—á–∞—Ç—å float –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —à—É–º–∞ –ü–µ—Ä–ª–∏–Ω–∞.
- –†–µ–∞–ª–∏–∑–æ–≤–∞–ª —à—É–º, –Ω–æ –æ–Ω —Å–ª–∏—à–∫–æ–º —Ä–µ–∑–∫–∏–π. –ú–æ–∂–Ω–æ –∑–∞–±–ª—é—Ä–∏—Ç—å - —É–º–Ω–æ–∂–∏—Ç—å –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–ª—è —Å —É—á–µ—Ç–æ–º –æ–∫—Ä—É–∂–∞—é—â–∏—Ö –µ–≥–æ —Ç–æ—á–µ–∫
### –ë—É–¥—É—â–∏–π –ø–ª–∞–Ω :
---
* [ ] –ù–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–π —à—É–º –ü–µ—Ä–ª–∏–Ω–∞. 
* [x] (linspace.rs) —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏—é –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π cube –ø–æ–∑–∏—Ü–∏–∏ (–∫–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫–æ–π –≤–µ—Ä—à–∏–Ω—ã –±–æ–ª—å—à–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞ –∞ –∫–∞–∫–∏–µ –Ω–µ—Ç)
* [x] (linspace.rs) —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ —ç—Ç–æ–π —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏–∏ –∫–∞–∫–∏–µ —Ä–µ–±—Ä–∞ –Ω—É–∂–Ω–æ —Å–æ–µ–¥–∏–Ω–∏—Ç—å
* [x] (linspace.rs) —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥–≤–µ –≤–µ—Ä—à–∏–Ω—ã –∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –¥–∞–Ω–Ω–æ–µ —Ä–µ–±—Ä–æ
* [x] (linspace.rs) –Ω–∞–π—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–µ—Ä–µ–¥–∏–Ω—ã —ç—Ç–æ–≥–æ —Ä–µ–±—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –∫–∞–∫ —Ä–∞–∑ –∏ –±—É–¥—É—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –≤–µ—Ä—à–∏–Ω—ã —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ –∫–æ—Ç–æ—Ä–æ–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω
* [x] (linspace.rs) –¥–æ–±–∞–≤–∏—Ç—å —ç—Ç—É –≤–µ—Ä—à–∏–Ω—É
* [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —Å–ª—É—á–∞–∏, —Ç–∏–ø–æ —Å—Ñ–µ—Ä—ã (–∏—Å–ø—Ä–∞–≤–∏–ª —Ç—Ä–∏–∞–Ω–≥—É–ª—è—Ü–∏—é, —Å–æ–∑–¥–∞–≤–∞–ª –¥–≤–æ–∏—á–Ω—É—é —Å—Ç—Ä–æ–∫—É –Ω–µ —á–µ—Ä–µ–∑ –ø–æ–±–∏—Ç–æ–≤–æ–µ –∏–ª–∏, –ø–æ—ç—Ç–æ–º—É –∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ)
* [x] –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É 
* [x] –î–æ–±–∞–≤–∏—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è (–ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å –≤–µ—Ä—à–∏–Ω—ã –Ω–∞ –∫–∞–∂–¥–æ–º —Ü–∏–∫–ª–µ)
  
  ----



-----
–ö–∞–∫ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞ –≥–ª–∏—É–º–µ?

 1. –ú–æ–∂–Ω–æ –≤ –æ–±—â–µ–º —Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–ª—è main'–∞ —Ü–∏–∫–ª –∏ –ø–µ—Ä–µ–¥ –∏—Ç–µ—Ä–∞—Ü–∏–µ–π –∑–∞–ø—É—Å–∫–∞ pipelin'–∞ opengl—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–µ—Ä—à–∏–Ω—ã –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ marching_cubes –Ω–æ –ø–æ–∫–∞ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –ª—é—Ç—ã–π –∫–∞—Å—Ç—ã–ª—å.
 2. –ü—Ä–æ –≤–µ—Ä—Ö–Ω–∏–π –ø—É–Ω–∫—Ç: –µ—Å—Ç—å –≤ OpenGL —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π Compute Shader 
   
    "A Compute Shader is a Shader Stage that is used entirely for computing arbitrary information. While it can do rendering, it is generally used for tasks not directly related to drawing triangles and pixels." 

    –°–æ–≤–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π —è –ø–æ–ª—É—á–∏–ª –æ—Ç –ù–∏–∫–æ–ª–∞—è –í–∞–¥–∏–º–æ–≤–∏—á–∞: 
    ```
    Nikolai Poliarnyi [#ü¶Ñ], 
    –ù–æ –∫–∞–∫ –º–∏–Ω–∏–º—É–º —Å–∞–º—ã–π –¥—É–±–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç - –∑–∞–ø—É—Å–∫–∞—Ç—å compute shader —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –≤–µ—Ä—à–∏–Ω—ã –∏ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏ –≤ –≤–∏–¥–µ–æ–ø–∞–º—è—Ç–∏ (–ø—Ä–æ—Å—Ç–æ –º–∞—Å—Å–∏–≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∏ –º–∞—Å—Å–∏–≤ –∏–Ω–¥–µ–∫—Å–æ–≤)
    –ê –¥–∞–ª—å—à–µ –Ω–∞ –Ω–∏—Ö –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—ã—á–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω, —ç—Ç–æ –Ω–∞–≤–µ—Ä–Ω–æ–µ –ø—Ä–æ—â–µ –≤—ã–π–¥–µ—Ç
    –ü–ª—é—Å –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø—Ä–æ—â–µ, –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–æ—Ç–≥—Ä—É–∑–∏–≤ —ç—Ç–∏ –º–∞—Å—Å–∏–≤—ã –∏ –ø–æ—Å–º–æ—Ç—Ä–µ–≤ –Ω–∞ –∏—Ö –¥–∞–Ω–Ω—ã–µ)
    ```
